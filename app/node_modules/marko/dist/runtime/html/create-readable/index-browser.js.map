{"version":3,"sources":["../../../../src/runtime/html/create-readable/index-browser.js"],"names":["encoder","TextEncoder","noop","module","exports","data","transformStream","TransformStream","writer","writable","getWriter","facade","write","string","encode","end","close","out","createOut","$global","undefined","once","err","abort","render","readable"],"mappings":"aAAA,IAAIA,OAAO,GAAG,IAAIC,WAAJ,EAAd;AACA,IAAIC,IAAI,GAAG,YAAY,CAAE,CAAzB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,IAAV,EAAgB;AAC/B;AACA,MAAIC,eAAe,GAAG,IAAIC,eAAJ,EAAtB;AACA,MAAIC,MAAM,GAAGF,eAAe,CAACG,QAAhB,CAAyBC,SAAzB,EAAb;AACA,MAAIC,MAAM,GAAG;AACXC,IAAAA,KAAK,EAAE,UAAUC,MAAV,EAAkB;AACvBL,MAAAA,MAAM,CAACI,KAAP,CAAaZ,OAAO,CAACc,MAAR,CAAeD,MAAf,CAAb;AACD,KAHU;AAIXE,IAAAA,GAAG,EAAE,YAAY;AACfP,MAAAA,MAAM,CAACQ,KAAP;AACD,KANU,EAAb;;AAQA,MAAIC,GAAG,GAAG,KAAKC,SAAL;AACRb,EAAAA,IAAI,IAAIA,IAAI,CAACc,OADL;AAERR,EAAAA,MAFQ;AAGRS,EAAAA,SAHQ;AAIR,UAJQ,CAAV;;AAMAH,EAAAA,GAAG,CAACI,IAAJ,CAAS,OAAT,EAAkB,CAAAC,GAAG,KAAI;AACvBX,IAAAA,MAAM,CAACC,KAAP,GAAeD,MAAM,CAACI,GAAP,GAAab,IAA5B;AACAM,IAAAA,MAAM,CAACe,KAAP,CAAaD,GAAb;AACD,GAHD;AAIA,OAAKE,MAAL,CAAYnB,IAAZ,EAAkBY,GAAlB;AACAA,EAAAA,GAAG,CAACF,GAAJ;;AAEA,SAAOT,eAAe,CAACmB,QAAvB;AACD,CA1BD","sourcesContent":["var encoder = new TextEncoder();\nvar noop = function () {};\n\nmodule.exports = function (data) {\n  // eslint-disable-next-line no-undef\n  var transformStream = new TransformStream();\n  var writer = transformStream.writable.getWriter();\n  var facade = {\n    write: function (string) {\n      writer.write(encoder.encode(string));\n    },\n    end: function () {\n      writer.close();\n    }\n  };\n  var out = this.createOut(\n    data && data.$global,\n    facade,\n    undefined,\n    this.___shouldBuffer\n  );\n  out.once(\"error\", err => {\n    facade.write = facade.end = noop;\n    writer.abort(err);\n  });\n  this.render(data, out);\n  out.end();\n\n  return transformStream.readable;\n};\n"],"file":"index-browser.js"}